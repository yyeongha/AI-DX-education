# <Django, FaceRecognition 개발>
Python Web프레임워크 3개(백앤드)
- (*)Django   = 웹프레임워크, API 개발 구축(무거운 콘텐츠 개발)
                     거의 모든 웹기능이 내장
- Flask      = 가벼운 서비스 개발
- FASTAPI = API만 개발

Restful API 구축 ?

가상으로 서버를 구축
json_server

postman : API

## 1. 프로젝트 경로 
d:\ai_exam\aiwebcam

## 2. 가상환경 생성
anaconda Powershell Prompt -> p312_aiwebcam
### 가상환경 생성
> conda create -n p312_aiwebcam python=3.12

## 3. vscode에서 프로젝트 경로 설정
d:\ai_exam\aiwebcam
* 가상환경 p312_aiwebcam 변경
(p312_aiwebcam) D:\ai_exam\aiwebcam>
=> 터미널 위와같이 나오면 정상
=> test.py 파일 삭제

## 4. 라이브러리 설치
- Django (web프레임워크)
pip install django==4.0

## 5. 키를 잘못눌러서 IPython이 동작되는경우
>>> exit()

## 6. 장고가 잘설치되었는지 확인(버전확인)
> django-admin --version
4.0  <- 정상

## 7. 프로젝트 생성
프로젝트명 : aiwebcam

   (1) 현재 프로젝트 경로가 있는 경우
   > django-admin startproject aiwebcam .

   (2) 프로젝트 경로가 없어서 만들어야 하는 경우
   > django-admin startproject [프로젝트명]
## 8. 장고(웹프레임워크)가동 : 서버 가동하는 방법
> python manage.py runserver



## 6. 장고(웹프레임워크) 가동 : 서버 가동하는 방법
(프롬프트) > python manage.py runserver

(프롬프트) > python manage.py runserver 0.0.0.0:3000

* 크롬에 127.0.0.1:3000을 하면 아래의 화면이 띄워짐
![djangoserver]()

* 참고 : 장고가 어떤 구조로 되어있는지 설명

프로젝트
AIWEBCAM # 프로젝트 디렉토리
++ aiwebcam # 프로젝트 디렉토리에 설정정보가 있는 폴더
 + settings.py # django운영을 위한 환경설정
 + urls.py # 홈페이지 경로 url 관리

https://localhost:3000/web/
++ web # /web 경로의 서비스 관리 폴더
 + urls.py # /web 경로 관리
 + views.py # 프로그램(데이터처리, html불러오고.., ai)
 + models.py # table 생성
manage.py # 서버실행, 디비생성, 관리

+ 부가적으로
+ media # 웹에서 업로드한 파일 모두 이곳에
+ templates # 디자인파일 html, css, js
+ assets # icon, image, js, ...

## 9. 앱 생성( /디렉토리를 하나 생성) : startapp
http://127.0.0.1:3000/web
> django-admin startapp web

* 순서작업 방법
/aiwebcam/settings.py -> 앱 등록
28 ALLOWED_HOSTS = ['*']
39 INSTALLED_APPS에 마지막에 앱 추가 => 'web' 추가

* 언어설정
107 LANGUAGE_CODE = 'ko-kr' 변경
109 TIME_ZONE = 'Asia/Seoul'

* /web/을 추가해주기 위한 목적
/aiwebcam/urls.py -> 경로 설정
17 from django.urls import include, path

19 urlpatterns = [
    path('admin/', admin.site.urls),
    path('web/', include('web.urls'))
]

<web에서 작업할 내용>
* /web/urls.py -> 경로 설정 파일 생성
* aiwebcam의 urls.py 파일 복붙


/web/views.py -> 경로에 맞는 함수 생성

(프롬프트) > python manage.py runserver 0.0.0.0:3000

## 11. 잘 동작하는지 확인
http://localhost:3000/web/

![main]()

## 12. templates : html파일을 페이지에 보이도록
* /templates <- 디렉토리 생성
![templates]()

* /aiwebcam/settings.py <- templates 를 수정
12 import os
58 'DIRS':[os.path.join(BASE_DIR, 'templates')],

<html 만들기>
* webcam_main.html 파일 생성
! + tab 치면 자동 완성됨

## 13. html 파일 웹에서 보이도록 처리
/web/views.py <- index()를 수정

## 14. 화면설계 : tailwindcss CDN방식을 이용해서 화면설계
http://www.tailwindcss.com
https://tailwindcss.com/docs/installation/play-cdn

## 15. 디자인 제작 => 고른다
https://tailblocks.cc/

## 16. 디자인이 어떻게 구성되어있는지 확인하는 툴
google -> 크롬확장프로그램 -> 크롬웹스토어 -> pesticide

https://chromewebstore.google.com/detail/pesticide-for-chrome/bakpbgckdnepkmkeaiomhmfcnejndkbi?hl=ko&utm_source=ext_sidebar


## 17. 카메라 영상을 웹 화며에 노출
(1) 라이브러리 opencv 설치
```
pip install opencv-python
pip install pillow 
```

## 18. 제어부 처리 경로 설정
/web/urls.py 스트링 경로 추가

http://localhost:3000/web/video_feed


## 19. 얼굴인식 detection 처리 구현
(1) 라이브러리 설치
```
conda install -c conda-forge dlib
pip install matplotlib
```

-------------------------------------------------------------------------------















